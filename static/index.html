<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rezka App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>

    <div id="search-ui" class="search-box">
        <input type="search" id="q" placeholder="Поиск сериалов..." oninput="doSearch(this.value)" autocomplete="off">
        <div id="search-results"></div>
    </div>

    <div id="toolbar" class="toolbar" style="display: flex; justify-content: flex-end; padding: 10px 15px;">
        <select id="sort-select" onchange="changeSort(this.value)" class="sort-select">
            <option value="added">По дате добавления</option>
            <option value="year">По году выпуска</option>
            <option value="popular">Популярные</option>
        </select>
    </div>

    <div id="grid" class="grid"></div>

    <div id="details">
        <button class="back-btn" onclick="closeDetails()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
        </button>

        <div class="hero">
            <div class="hero-gradient"></div>
            <img id="det-img" src="">
            <div class="hero-title" id="det-title"></div>
        </div>

        <div id="det-controls" class="manage-box" style="display:none;">
            <button class="btn-action btn-watch" onclick="moveMovie('watching')">В Смотрю</button>
            <button class="btn-action btn-later" onclick="moveMovie('later')">В Позже</button>
            <button class="btn-action btn-done" onclick="moveMovie('watched')">В Архив</button>
            <button class="btn-action btn-delete" onclick="deleteMovie()">Удалить</button>
        </div>

        <div id="det-franchises" class="franchise-list"></div>

        <div id="det-list" class="episodes-list"></div>
    </div>

    <div class="tab-bar">
        <button class="tab-btn active" onclick="switchTab('watching', this)">
            <span class="tab-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
            </span>
            Смотрю
        </button>
        <button class="tab-btn" onclick="switchTab('later', this)">
            <span class="tab-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            </span>
            Позже
        </button>
        <button class="tab-btn" onclick="switchTab('watched', this)">
            <span class="tab-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
            </span>
            Архив
        </button>
        <button class="tab-btn" onclick="openSearch(this)">
            <span class="tab-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            </span>
            Поиск
        </button>
    </div>

    <script src="static/script.js"></script>
</body>
</html>